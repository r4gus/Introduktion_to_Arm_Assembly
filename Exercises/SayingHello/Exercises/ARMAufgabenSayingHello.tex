\documentclass[12pt]{article}
\parindent0em
\parskip 1ex plus 0.4ex minus 0.4ex

\usepackage[a4paper,vmargin=30mm,hmargin=25mm]{geometry}
\usepackage{polyglossia}
\setdefaultlanguage{german}
\usepackage{fontspec}
\usepackage{lipsum}
\usepackage{xcolor}
\usepackage{listings}

\definecolor{lstbackground}{rgb}{0.95,0.95,1}      % hellgruener Rahmen

\newcommand{\instruction}[1]{\textbf{\texttt{\color{blue}#1}}}

\definecolor{codegreen}{rgb}{0,0.3,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{blue}{RGB}{0,0,255}
\definecolor{gray}{RGB}{224,224,224}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    %numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    morekeywords={add, adc, sub, sbc, mul, mla, 
    and, orr, eor, bic, cmp, cmn, tst, teq,
    mov, mvn, adds, adcs, subs, sbcs,
    muls, mlas, ands, orrs, eors, bics, cmp, cmn, tst, teq,
    mov, mvn, b, bl, blx, beq, bne, blt, bgt, bcs, bcc, bmi, bpl,
    bvs, bvc, bhi, bls, bge, ble,addeq,addne,addcs,addcc,addmi,addpl,addvs,addvc,
    addhi,addls,addge,addlt,addgt,addle,adceq,adcne,adccs,adccc,adcmi,adcpl,adcvs,
    adcvc,adchi,adcls,adcge,adclt,adcgt,adcle,subeq,subne,subcs,subcc,submi,subpl,
    subvs,subvc,subhi,subls,subge,sublt,subgt,suble,sbceq,sbcne,sbccs,sbccc,sbcmi,
    sbcpl,sbcvs,sbcvc,sbchi,sbcls,sbcge,sbclt,sbcgt,sbcle,muleq,mulne,mulcs,mulcc,
    mulmi,mulpl,mulvs,mulvc,mulhi,mulls,mulge,mullt,mulgt,mulle,mlaeq,mlane,mlacs,
    mlacc,mlami,mlapl,mlavs,mlavc,mlahi,mlals,mlage,mlalt,mlagt,mlale,andeq,andne,
    andcs,andcc,andmi,andpl,andvs,andvc,andhi,andls,andge,andlt,andgt,andle,orreq,
    orrne,orrcs,orrcc,orrmi,orrpl,orrvs,orrvc,orrhi,orrls,orrge,orrlt,orrgt,orrle,
    eoreq,eorne,eorcs,eorcc,eormi,eorpl,eorvs,eorvc,eorhi,eorls,eorge,eorlt,eorgt,
    eorle,biceq,bicne,biccs,biccc,bicmi,bicpl,bicvs,bicvc,bichi,bicls,bicge,biclt,
    bicgt,bicle,cmpeq,cmpne,cmpcs,cmpcc,cmpmi,cmppl,cmpvs,cmpvc,cmphi,cmpls,cmpge,
    cmplt,cmpgt,cmple,cmneq,cmnne,cmncs,cmncc,cmnmi,cmnpl,cmnvs,cmnvc,cmnhi,cmnls,
    cmnge,cmnlt,cmngt,cmnle,tsteq,tstne,tstcs,tstcc,tstmi,tstpl,tstvs,tstvc,tsthi,
    tstls,tstge,tstlt,tstgt,tstle,teqeq,teqne,teqcs,teqcc,teqmi,teqpl,teqvs,teqvc,
    teqhi,teqls,teqge,teqlt,teqgt,teqle,moveq,movne,movcs,movcc,movmi,movpl,movvs,
    movvc,movhi,movls,movge,movlt,movgt,movle,mvneq,mvnne,mvncs,mvncc,mvnmi,mvnpl,
    mvnvs,mvnvc,mvnhi,mvnls,mvnge,mvnlt,mvngt,mvnle,ADD,ADDS,ADDEQ,ADDEQS,ADDNE,ADDNES,ADDCS,ADDCSS,ADDCC,ADDCCS,ADDMI,ADDMIS,ADDPL,ADDPLS,ADDVS,ADDVSS,ADDVC,ADDVCS,ADDHI,ADDHIS,ADDLS,ADDLSS,ADDGE,ADDGES,ADDLT,ADDLTS,ADDGT,ADDGTS,ADDLE,ADDLES,ADC,ADCS,ADCEQ,ADCEQS,ADCNE,ADCNES,ADCCS,ADCCSS,ADCCC,ADCCCS,ADCMI,ADCMIS,ADCPL,ADCPLS,ADCVS,ADCVSS,ADCVC,ADCVCS,ADCHI,ADCHIS,ADCLS,ADCLSS,ADCGE,ADCGES,ADCLT,ADCLTS,ADCGT,ADCGTS,ADCLE,ADCLES,SUB,SUBS,SUBEQ,SUBEQS,SUBNE,SUBNES,SUBCS,SUBCSS,SUBCC,SUBCCS,SUBMI,SUBMIS,SUBPL,SUBPLS,SUBVS,SUBVSS,SUBVC,SUBVCS,SUBHI,SUBHIS,SUBLS,SUBLSS,SUBGE,SUBGES,SUBLT,SUBLTS,SUBGT,SUBGTS,SUBLE,SUBLES,SBC,SBCS,SBCEQ,SBCEQS,SBCNE,SBCNES,SBCCS,SBCCSS,SBCCC,SBCCCS,SBCMI,SBCMIS,SBCPL,SBCPLS,SBCVS,SBCVSS,SBCVC,SBCVCS,SBCHI,SBCHIS,SBCLS,SBCLSS,SBCGE,SBCGES,SBCLT,SBCLTS,SBCGT,SBCGTS,SBCLE,SBCLES,MUL,MULS,MULEQ,MULEQS,MULNE,MULNES,MULCS,MULCSS,MULCC,MULCCS,MULMI,MULMIS,MULPL,MULPLS,MULVS,MULVSS,MULVC,MULVCS,MULHI,MULHIS,MULLS,MULLSS,MULGE,MULGES,MULLT,MULLTS,MULGT,MULGTS,MULLE,MULLES,MLA,MLAS,MLAEQ,MLAEQS,MLANE,MLANES,MLACS,MLACSS,MLACC,MLACCS,MLAMI,MLAMIS,MLAPL,MLAPLS,MLAVS,MLAVSS,MLAVC,MLAVCS,MLAHI,MLAHIS,MLALS,MLALSS,MLAGE,MLAGES,MLALT,MLALTS,MLAGT,MLAGTS,MLALE,MLALES,AND,ANDS,ANDEQ,ANDEQS,ANDNE,ANDNES,ANDCS,ANDCSS,ANDCC,ANDCCS,ANDMI,ANDMIS,ANDPL,ANDPLS,ANDVS,ANDVSS,ANDVC,ANDVCS,ANDHI,ANDHIS,ANDLS,ANDLSS,ANDGE,ANDGES,ANDLT,ANDLTS,ANDGT,ANDGTS,ANDLE,ANDLES,ORR,ORRS,ORREQ,ORREQS,ORRNE,ORRNES,ORRCS,ORRCSS,ORRCC,ORRCCS,ORRMI,ORRMIS,ORRPL,ORRPLS,ORRVS,ORRVSS,ORRVC,ORRVCS,ORRHI,ORRHIS,ORRLS,ORRLSS,ORRGE,ORRGES,ORRLT,ORRLTS,ORRGT,ORRGTS,ORRLE,ORRLES,EOR,EORS,EOREQ,EOREQS,EORNE,EORNES,EORCS,EORCSS,EORCC,EORCCS,EORMI,EORMIS,EORPL,EORPLS,EORVS,EORVSS,EORVC,EORVCS,EORHI,EORHIS,EORLS,EORLSS,EORGE,EORGES,EORLT,EORLTS,EORGT,EORGTS,EORLE,EORLES,BIC,BICS,BICEQ,BICEQS,BICNE,BICNES,BICCS,BICCSS,BICCC,BICCCS,BICMI,BICMIS,BICPL,BICPLS,BICVS,BICVSS,BICVC,BICVCS,BICHI,BICHIS,BICLS,BICLSS,BICGE,BICGES,BICLT,BICLTS,BICGT,BICGTS,BICLE,BICLES,CMP,CMPS,CMPEQ,CMPEQS,CMPNE,CMPNES,CMPCS,CMPCSS,CMPCC,CMPCCS,CMPMI,CMPMIS,CMPPL,CMPPLS,CMPVS,CMPVSS,CMPVC,CMPVCS,CMPHI,CMPHIS,CMPLS,CMPLSS,CMPGE,CMPGES,CMPLT,CMPLTS,CMPGT,CMPGTS,CMPLE,CMPLES,CMN,CMNS,CMNEQ,CMNEQS,CMNNE,CMNNES,CMNCS,CMNCSS,CMNCC,CMNCCS,CMNMI,CMNMIS,CMNPL,CMNPLS,CMNVS,CMNVSS,CMNVC,CMNVCS,CMNHI,CMNHIS,CMNLS,CMNLSS,CMNGE,CMNGES,CMNLT,CMNLTS,CMNGT,CMNGTS,CMNLE,CMNLES,TST,TSTS,TSTEQ,TSTEQS,TSTNE,TSTNES,TSTCS,TSTCSS,TSTCC,TSTCCS,TSTMI,TSTMIS,TSTPL,TSTPLS,TSTVS,TSTVSS,TSTVC,TSTVCS,TSTHI,TSTHIS,TSTLS,TSTLSS,TSTGE,TSTGES,TSTLT,TSTLTS,TSTGT,TSTGTS,TSTLE,TSTLES,TEQ,TEQS,TEQEQ,TEQEQS,TEQNE,TEQNES,TEQCS,TEQCSS,TEQCC,TEQCCS,TEQMI,TEQMIS,TEQPL,TEQPLS,TEQVS,TEQVSS,TEQVC,TEQVCS,TEQHI,TEQHIS,TEQLS,TEQLSS,TEQGE,TEQGES,TEQLT,TEQLTS,TEQGT,TEQGTS,TEQLE,TEQLES,MOV,MOVS,MOVEQ,MOVEQS,MOVNE,MOVNES,MOVCS,MOVCSS,MOVCC,MOVCCS,MOVMI,MOVMIS,MOVPL,MOVPLS,MOVVS,MOVVSS,MOVVC,MOVVCS,MOVHI,MOVHIS,MOVLS,MOVLSS,MOVGE,MOVGES,MOVLT,MOVLTS,MOVGT,MOVGTS,MOVLE,MOVLES,MVN,MVNS,MVNEQ,MVNEQS,MVNNE,MVNNES,MVNCS,MVNCSS,MVNCC,MVNCCS,MVNMI,MVNMIS,MVNPL,MVNPLS,MVNVS,MVNVSS,MVNVC,MVNVCS,MVNHI,MVNHIS,MVNLS,MVNLSS,MVNGE,MVNGES,MVNLT,MVNLTS,MVNGT,MVNGTS,MVNLE,MVNLES,LDR,LDRS,LDREQ,LDREQS,LDRNE,LDRNES,LDRCS,LDRCSS,LDRCC,LDRCCS,LDRMI,LDRMIS,LDRPL,LDRPLS,LDRVS,LDRVSS,LDRVC,LDRVCS,LDRHI,LDRHIS,LDRLS,LDRLSS,LDRGE,LDRGES,LDRLT,LDRLTS,LDRGT,LDRGTS,LDRLE,LDRLES,STR,STRS,STREQ,STREQS,STRNE,STRNES,STRCS,STRCSS,STRCC,STRCCS,STRMI,STRMIS,STRPL,STRPLS,STRVS,STRVSS,STRVC,STRVCS,STRHI,STRHIS,STRLS,STRLSS,STRGE,STRGES,STRLT,STRLTS,STRGT,STRGTS,STRLE,STRLES,LDM,LDMS,LDMEQ,LDMEQS,LDMNE,LDMNES,LDMCS,LDMCSS,LDMCC,LDMCCS,LDMMI,LDMMIS,LDMPL,LDMPLS,LDMVS,LDMVSS,LDMVC,LDMVCS,LDMHI,LDMHIS,LDMLS,LDMLSS,LDMGE,LDMGES,LDMLT,LDMLTS,LDMGT,LDMGTS,LDMLE,LDMLES,STM,STMS,STMEQ,STMEQS,STMNE,STMNES,STMCS,STMCSS,STMCC,STMCCS,STMMI,STMMIS,STMPL,STMPLS,STMVS,STMVSS,STMVC,STMVCS,STMHI,STMHIS,STMLS,STMLSS,STMGE,STMGES,STMLT,STMLTS,STMGT,STMGTS,STMLE,STMLES,LDMDB,LDMDBS,LDMDBEQ,LDMDBEQS,LDMDBNE,LDMDBNES,LDMDBCS,LDMDBCSS,LDMDBCC,LDMDBCCS,LDMDBMI,LDMDBMIS,LDMDBPL,LDMDBPLS,LDMDBVS,LDMDBVSS,LDMDBVC,LDMDBVCS,LDMDBHI,LDMDBHIS,LDMDBLS,LDMDBLSS,LDMDBGE,LDMDBGES,LDMDBLT,LDMDBLTS,LDMDBGT,LDMDBGTS,LDMDBLE,LDMDBLES,LDMDA,LDMDAS,LDMDAEQ,LDMDAEQS,LDMDANE,LDMDANES,LDMDACS,LDMDACSS,LDMDACC,LDMDACCS,LDMDAMI,LDMDAMIS,LDMDAPL,LDMDAPLS,LDMDAVS,LDMDAVSS,LDMDAVC,LDMDAVCS,LDMDAHI,LDMDAHIS,LDMDALS,LDMDALSS,LDMDAGE,LDMDAGES,LDMDALT,LDMDALTS,LDMDAGT,LDMDAGTS,LDMDALE,LDMDALES,LDMIB,LDMIBS,LDMIBEQ,LDMIBEQS,LDMIBNE,LDMIBNES,LDMIBCS,LDMIBCSS,LDMIBCC,LDMIBCCS,LDMIBMI,LDMIBMIS,LDMIBPL,LDMIBPLS,LDMIBVS,LDMIBVSS,LDMIBVC,LDMIBVCS,LDMIBHI,LDMIBHIS,LDMIBLS,LDMIBLSS,LDMIBGE,LDMIBGES,LDMIBLT,LDMIBLTS,LDMIBGT,LDMIBGTS,LDMIBLE,LDMIBLES,LDMIA,LDMIAS,LDMIAEQ,LDMIAEQS,LDMIANE,LDMIANES,LDMIACS,LDMIACSS,LDMIACC,LDMIACCS,LDMIAMI,LDMIAMIS,LDMIAPL,LDMIAPLS,LDMIAVS,LDMIAVSS,LDMIAVC,LDMIAVCS,LDMIAHI,LDMIAHIS,LDMIALS,LDMIALSS,LDMIAGE,LDMIAGES,LDMIALT,LDMIALTS,LDMIAGT,LDMIAGTS,LDMIALE,LDMIALES,STMDB,STMDBS,STMDBEQ,STMDBEQS,STMDBNE,STMDBNES,STMDBCS,STMDBCSS,STMDBCC,STMDBCCS,STMDBMI,STMDBMIS,STMDBPL,STMDBPLS,STMDBVS,STMDBVSS,STMDBVC,STMDBVCS,STMDBHI,STMDBHIS,STMDBLS,STMDBLSS,STMDBGE,STMDBGES,STMDBLT,STMDBLTS,STMDBGT,STMDBGTS,STMDBLE,STMDBLES,STMDA,STMDAS,STMDAEQ,STMDAEQS,STMDANE,STMDANES,STMDACS,STMDACSS,STMDACC,STMDACCS,STMDAMI,STMDAMIS,STMDAPL,STMDAPLS,STMDAVS,STMDAVSS,STMDAVC,STMDAVCS,STMDAHI,STMDAHIS,STMDALS,STMDALSS,STMDAGE,STMDAGES,STMDALT,STMDALTS,STMDAGT,STMDAGTS,STMDALE,STMDALES,STMIB,STMIBS,STMIBEQ,STMIBEQS,STMIBNE,STMIBNES,STMIBCS,STMIBCSS,STMIBCC,STMIBCCS,STMIBMI,STMIBMIS,STMIBPL,STMIBPLS,STMIBVS,STMIBVSS,STMIBVC,STMIBVCS,STMIBHI,STMIBHIS,STMIBLS,STMIBLSS,STMIBGE,STMIBGES,STMIBLT,STMIBLTS,STMIBGT,STMIBGTS,STMIBLE,STMIBLES,STMIA,STMIAS,STMIAEQ,STMIAEQS,STMIANE,STMIANES,STMIACS,STMIACSS,STMIACC,STMIACCS,STMIAMI,STMIAMIS,STMIAPL,STMIAPLS,STMIAVS,STMIAVSS,STMIAVC,STMIAVCS,STMIAHI,STMIAHIS,STMIALS,STMIALSS,STMIAGE,STMIAGES,STMIALT,STMIALTS,STMIAGT,STMIAGTS,STMIALE,STMIALES,ldreq,ldrne,ldrcs,ldrcc,ldrmi,ldrpl,ldrvs,ldrvc,ldrhi,ldrls,ldrge,ldrlt,ldrgt,ldrle,streq,strne,strcs,strcc,strmi,strpl,strvs,strvc,strhi,strls,strge,strlt,strgt,strle,ldmeq,ldmne,ldmcs,ldmcc,ldmmi,ldmpl,ldmvs,ldmvc,ldmhi,ldmls,ldmge,ldmlt,ldmgt,ldmle,stmeq,stmne,stmcs,stmcc,stmmi,stmpl,stmvs,stmvc,stmhi,stmls,stmge,stmlt,stmgt,stmle,ldmiaeq,ldmiane,ldmiacs,ldmiacc,ldmiami,ldmiapl,ldmiavs,ldmiavc,ldmiahi,ldmials,ldmiage,ldmialt,ldmiagt,ldmiale,ldmibeq,ldmibne,ldmibcs,ldmibcc,ldmibmi,ldmibpl,ldmibvs,ldmibvc,ldmibhi,ldmibls,ldmibge,ldmiblt,ldmibgt,ldmible,ldmdaeq,ldmdane,ldmdacs,ldmdacc,ldmdami,ldmdapl,ldmdavs,ldmdavc,ldmdahi,ldmdals,ldmdage,ldmdalt,ldmdagt,ldmdale,ldmdbeq,ldmdbne,ldmdbcs,ldmdbcc,ldmdbmi,ldmdbpl,ldmdbvs,ldmdbvc,ldmdbhi,ldmdbls,ldmdbge,ldmdblt,ldmdbgt,ldmdble,stmiaeq,stmiane,stmiacs,stmiacc,stmiami,stmiapl,stmiavs,stmiavc,stmiahi,stmials,stmiage,stmialt,stmiagt,stmiale,stmibeq,stmibne,stmibcs,stmibcc,stmibmi,stmibpl,stmibvs,stmibvc,stmibhi,stmibls,stmibge,stmiblt,stmibgt,stmible,stmdbeq,stmdbne,stmdbcs,stmdbcc,stmdbmi,stmdbpl,stmdbvs,stmdbvc,stmdbhi,stmdbls,stmdbge,stmdblt,stmdbgt,stmdble,stmdaeq,stmdane,stmdacs,stmdacc,stmdami,stmdapl,stmdavs,stmdavc,stmdahi,stmdals,stmdage,stmdalt,stmdagt,stmdale,
ldr,str,ldm,stm, adr, svc, SVC, swi, SWI, bx, blx, BLX, BX, push, pop, PUSH,
POP, umull},
  literate=%
  {Ö}{{\"O}}1
  {Ä}{{\"A}}1
  {Ü}{{\"U}}1
  {ß}{{\ss}}1
  {ü}{{\"u}}1
  {ä}{{\"a}}1
  {ö}{{\"o}}1
  {~}{{\textasciitilde}}1
}
 
\lstset{style=mystyle}

\begin{document}

\begin{center}
  \textbf{\LARGE Name der Vorlesung} \\[1ex]%
  \textbf{\Large Weiterführende Aufgaben zu ARM Assembly}\\[2ex] %
  
\end{center}

% ****************************************************************************
\section{Saying Hello}
% ****************************************************************************
In den nachfolgenden Aufgaben geht es darum, Ihre Kenntnisse über ARM Assembly
und Linux system calls anzuwenden, die Sie durch die Vorlesung gewonnen haben.

Die Aufgaben bauen auf einander auf, d.h. Sie sollten die Aufgaben in der Ihnen
vorgegebenen Reihenfolge bearbeiten.

% ----------------------------------------------------------------------------
\subsection{Aufgabe 1: Hello ARM}
% ----------------------------------------------------------------------------
Das "Hello, World!" Programm ist in der Regel das erste Programm,
das ein Programmierer schreibt, wenn er sich an eine neue Programmiersprache
wagt. Wir wollen diese Tradition fortführen.

Erstellen Sie ein ARM Assembler-Programm, dass "Hello, ARM!" auf der Kommandozeile ausgibt und
sich danach ordnungsgemäß, d.h. mit Rückgabewert 0, beendet.

\textbf{Beispielausgabe}
\begin{lstlisting}
Hello, ARM!
\end{lstlisting}

\textbf{Einschränkung}: Nutzen Sie nicht den \texttt{ldr <Rd>, =imm} Pseudobefehl.


% ----------------------------------------------------------------------------
\subsection{Aufgabe 2: strlen()}
% ----------------------------------------------------------------------------
Die Länge eines Strings dynamisch zur Laufzeit bestimmen zu können
ist nützlich, da so Strings ausgegeben werden können ohne deren Länge
im Vorfeld wissen zu müssen.

Erweitern Sie das Programm aus Aufgabe 1) und schreiben Sie eine Funktion namens \textbf{strlen}, 
die einen \texttt{NULL terminierten} String als Argument übergeben bekommt und dessen Länge, 
ausschließlich \textbf{Nullterminator}, zurückliefert.

\begin{lstlisting}
unsigned strlen(char* str)
\end{lstlisting}

Testen sie die Funtion mittels GDB. Nutzen Sie strlen um die länge von "Hello, ARM!" dynamisch
zu berechnen.

\textbf{Beispielausgabe}
\begin{lstlisting}
Hello, ARM!
\end{lstlisting}

% ----------------------------------------------------------------------------
\subsection{Aufgabe 3: puts()}
% ----------------------------------------------------------------------------
Kapseln Sie den Code zur Ausgabe des Strings in einer neuen
Funktion namens \textbf{puts}. Die Funktion soll die Adresse eines 
beliebigen NULL terminierten Strings als argument übergeben
bekommen und diesen dann über \textbf{stdout} ausgeben. 

\begin{lstlisting}
void puts(char* str)
\end{lstlisting}

Tip: Für eine Übersicht über alle ASCII Symbole siehen \texttt{man ascii}.

\textbf{Beispielausgabe}
\begin{lstlisting}
Hello, ARM!
\end{lstlisting}


% ----------------------------------------------------------------------------
\subsection{Aufgabe 4: strncpy()}
% ----------------------------------------------------------------------------
Strings kopieren zu können ist ein wichtiges Feature jeder Programmiersprache und auch
für die folgenden Übungen wäre eine Kopierfunktion durchaus nützlich. Implementieren Sie
eine Funktion namens \textbf{strncpy}, die als erstes Argument die Adresse eines Zielstrings erhält,
als zweites Argument die Adresse des zu kopierenden Strings und als drittes Argument die Anzahl
an Bytes die es zu kopieren gilt. Die Funktion soll die Adresse des Zielstrings zurückliefern.
 
\begin{lstlisting}
char* strncpy(char *dest, char *src, unsigned n)
\end{lstlisting}
 
Vergewissern Sie sich, dass der dest String immer NULL terminiert ist, d.h. dest[n-1] = 0.
 
Testen Sie die Funktion mittels GDB. Kopieren Sie einen String und geben Sie diesen auf der Kommandozeile aus. Experimentieren Sie mit verschiedenen Eingabelängen für strncpy.

\textbf{Beispielausgabe}
\begin{lstlisting}
fÜr n = 6 und src = "Hello, ARM!"

Hello
\end{lstlisting}


% ----------------------------------------------------------------------------
\subsection{Aufgabe 5: puts() revisited}
% ----------------------------------------------------------------------------
Die in Aufgabe 1.3) implementierte Funktion puts() unterscheidet sich in einem
entscheidenden Aspekt von der Version, die man aus der Programmiersprache C
kennt. Dort gibt puts nicht nur den String aus, sondern hängt auch noch einen
line feed (siehe man ascii) an das Ende des Strings, wodurch es auf der Kommandozeile zu einem Zeilenumbruch kommt.

Erweitern Sie Ihre Funktion, sodass diese das gleiche Verhalten aufweist.

\textbf{Einschränkung}:
Der write Syscall soll nur ein einziges mal aufgerufen werden.

TIP: Versuchen Sie den auszugebenden String auf dem Stack vorzubereiten.


% ----------------------------------------------------------------------------
\subsection{Aufgabe 6: Hello Me}
% ----------------------------------------------------------------------------
Zum Schluss soll das Programm noch so erweitert werden, dass ein beliebiger String der Länge <= n, für eine beliebige statische Zahl n,
eingelesen und auf der Kommandozeile wieder ausgegeben werden kann. Schreiben Sie eine Funktion getsn, die die Adresse eines Buffers,
sowie dessen größe überbegeben bekommt und eine Zeile von der Standardeingabe
einließt. Die Funktion stopt sobald das Ende der File erreicht ist (eof) oder
n-1 Zeichen eingelesen wurden. Das newline Symbol soll nicht mit in den Buffer geschrieben werden. Der
Buffer soll Null-terminiert sein. Die Funktion soll die Anzahl gelesener Bytes zurück geben.

\begin{lstlisting}
int getsn(char* buf, int n)
\end{lstlisting}

\textbf{Beispielausgabe}
\begin{lstlisting}
\$ What is your name? >>> Bob
Hello, Bob!
\end{lstlisting}








\end{document}

%%% Local Variables: 
%%% TeX-PDF-mode: t
%%% TeX-master: t
%%% coding: utf-8
%%% mode: latex
%%% TeX-engine: xetex
%%% End: 
